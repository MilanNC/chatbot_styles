/* promƒõnn√© pouze pro widget */
#chatContainer {
  --header-gradient: linear-gradient(90deg, #22e305, #000);
  --user-gradient: #000;
  --assistant-color: #F4F4F9;
  --text-light: #fff;
  --text-dark: #333;
  --bg: #fff;
  --shadow: rgba(0, 0, 0, 0.1) 0 4px 12px;
  --shadow-hover: rgba(0, 0, 0, 0.2) 0 6px 16px;
  --font-size: 15px;
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 9999;
  font-family: 'Poppins', sans-serif;
}

/* reset jen uvnit≈ô chatContainer */
#chatContainer *,
#chatContainer *::before,
#chatContainer *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-size: var(--font-size);
}

/* Animace */
#chatContainer @keyframes gradientFlow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
#chatContainer @keyframes pulse {
  0%,100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}
#chatContainer @keyframes slideIn {
  from { transform: translateX(-10px); opacity: 0; }
  to   { transform: translateX(0); opacity: 1; }
}

/* ikonka chatu */
#chatContainer #chatIcon {
  width: 64px; height: 64px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  color: var(--text-light); font-size: 36px;
  cursor: pointer; animation: pulse 2s infinite;
  box-shadow: var(--shadow); position: relative; overflow: hidden;
  background: transparent;
}
#chatContainer #chatIcon::before {
  content:""; position:absolute; inset:0;
  background:var(--header-gradient); background-size:200% 200%;
  animation:gradientFlow 8s infinite;
  filter:blur(20px); transform:scale(1.2); z-index:-1;
}
#chatContainer #chatIcon .tooltip {
  position:absolute; bottom:70px; right:0;
  background:var(--header-gradient); color:var(--text-light);
  padding:6px 10px; border-radius:12px; white-space:nowrap;
  opacity:0; transition:opacity .3s; pointer-events:none;
  font-size:0.85rem;
}
#chatContainer #chatIcon:hover .tooltip { opacity:1; }

/* kontejner chatu */
#chatContainer #chatBoxContainer {
  display: none;
  width: clamp(350px,90vw,900px);
  border-radius:24px; background:var(--bg);
  box-shadow:var(--shadow);
  position: fixed; bottom:100px; right:20px;
  flex-direction: column; overflow: hidden;
  opacity: 0; transform: translateY(20px);
  transition: all .8s ease;
}
#chatContainer #chatBoxContainer.closing {
  transition: transform .4s ease, opacity .4s ease;
  transform: translate(100%,100%); opacity:0;
}
#chatContainer #chatBoxContainer.open {
  opacity:1; transform: translateY(0);
}

/* hlaviƒçka */
#chatContainer #chatHeader {
  padding:10px 16px; display:flex;
  justify-content:space-between; align-items:center;
  border-top-left-radius:24px; border-top-right-radius:24px;
  position:relative; overflow:visible;
}
#chatContainer #chatHeader::before {
  content:""; position:absolute; inset:0;
  background:var(--header-gradient);
  filter:blur(20px); transform:scale(1.2); z-index:-1;
}
#chatContainer .assistant-title {
  position:relative;
}
#chatContainer .assistant-title:hover::after {
  content:'üòâ'; position:absolute;
  right:-25px; top:0;
  animation:slideIn .8s forwards;
}

/* ikony v hlaviƒçce */
#chatContainer .icon-container {
  position:relative; display:inline-block; margin-left:12px;
}
#chatContainer .icon-container .icon {
  cursor:pointer; font-size:20px;
  color:var(--text-light); transition:transform .3s ease;
}
#chatContainer .icon-container .icon:hover {
  transform:rotate(90deg);
}
#chatContainer .icon-container .icon-tooltip {
  position:absolute; top:100%; left:50%;
  transform:translateX(-50%); margin-top:6px;
  background:#fff; color:var(--text-dark);
  padding:4px 8px; border-radius:6px; font-size:0.8rem;
  white-space:nowrap; opacity:0; transition:opacity .2s;
  pointer-events:none; box-shadow:var(--shadow); z-index:1;
}
#chatContainer .icon-container:hover .icon-tooltip {
  opacity:1;
}

/* bubliny zpr√°v */
#chatContainer #chatBox {
  flex:1; padding:16px;
  display:flex; flex-direction:column; gap:12px;
  overflow-y:auto; scrollbar-width:thin;
  scrollbar-color:var(--header-gradient) var(--assistant-color);
}
#chatContainer #chatBox::-webkit-scrollbar { width:6px; }
#chatContainer #chatBox::-webkit-scrollbar-thumb {
  background:var(--header-gradient); border-radius:3px;
}
#chatContainer #chatBox .message {
  display:inline-block; max-width:85%;
  white-space:pre-wrap; overflow-wrap:break-word;
  background:var(--assistant-color); color:var(--text-dark);
  align-self:flex-start; padding:16px 24px; border-radius:24px;
  box-shadow:var(--shadow); line-height:1.5;
  transition:transform .8s ease, box-shadow .8s ease;
}
#chatContainer #chatBox .message:hover {
  transform:scale(1.03); box-shadow:var(--shadow-hover);
}
#chatContainer #chatBox .message p {
  display:inline; margin:0;
}
#chatContainer .assistant-message.loading {
  font-style:italic; opacity:.7;
}
#chatContainer .user-message {
  background:var(--user-gradient); color:var(--text-light);
  align-self:flex-end; text-align:right;
}

/* vstup a odes√≠lac√≠ tlaƒç√≠tko */
#chatContainer #inputContainer {
  display:flex; border-top:1px solid #eee;
  padding:10px 16px;
}
#chatContainer #inputBox {
  flex:1; padding:10px 14px;
  border:1px solid #ddd; border-radius:20px;
  outline:none; transition:border-color .8s ease;
}
#chatContainer #inputBox:focus {
  border-color:var(--header-gradient);
}
#chatContainer #sendButton {
  background:none; border:none;
  margin-left:12px; width:40px; height:40px;
  display:flex; align-items:center; justify-content:center;
  cursor:pointer; transition:transform .4s ease,
    background-color .8s ease; position:relative;
}
#chatContainer #sendButton:hover {
  transform:scale(1.05);
  background:rgba(113,93,228,0.1); border-radius:50%;
}
#chatContainer #sendButton .send-tooltip {
  position:absolute; bottom:100%; left:50%;
  transform:translateX(-50%); margin-bottom:6px;
  background:#fff; color:var(--text-dark);
  padding:4px 8px; border-radius:6px; font-size:0.8rem;
  white-space:nowrap; opacity:0; transition:opacity .2s;
  pointer-events:none; box-shadow:var(--shadow); z-index:1;
}
#chatContainer #sendIcon {
  width:20px; height:20px; fill:var(--header-gradient);
}

/* mobiln√≠ */
@media (max-width: 600px) {
  #chatContainer #chatIcon {
    width:50px; height:50px; font-size:28px;
  }
  #chatContainer #chatBoxContainer {
    bottom:80px; right:10px; width:90vw;
  }
  #chatContainer #chatHeader {
    padding:8px 12px;
  }
  #chatContainer .message {
    padding:12px 16px;
  }
  #chatContainer #inputContainer {
    padding:8px 12px;
  }
  #chatContainer #inputBox {
    font-size:14px;
  }
  #chatContainer #sendButton {
    width:36px; height:36px;
  }
  #chatContainer .icon-container .icon-tooltip,
  #chatContainer #sendButton .send-tooltip {
    font-size:12px;
  }
}
